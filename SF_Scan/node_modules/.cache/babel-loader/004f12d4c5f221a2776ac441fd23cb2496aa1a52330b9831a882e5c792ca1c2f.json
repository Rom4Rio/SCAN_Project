{"ast":null,"code":"import _classCallCheck from \"reshow-runtime/es/helpers/classCallCheck\";\nimport _createClass from \"reshow-runtime/es/helpers/createClass\";\nimport _defineProperty from \"reshow-runtime/es/helpers/defineProperty\";\nimport { KEYS } from \"reshow-constant\";\nimport callfunc from \"./callfunc.mjs\";\nvar count = {\n  el: 0,\n  opt: 0\n};\nvar allWrapMap = {};\nvar wrapKey = \"data-event-wrap-id\";\nvar initEventWrap = function initEventWrap(el) {\n  var wrapId = el.getAttribute ? el.getAttribute(wrapKey) : el[wrapKey];\n  if (!wrapId) {\n    wrapId = ++count.el;\n    if (el.setAttribute) {\n      el.setAttribute(wrapKey, wrapId);\n    } else {\n      el[wrapKey] = wrapId;\n    }\n  }\n  var obj = allWrapMap[wrapId];\n  if (!obj) {\n    obj = new EventWrap(wrapId, el);\n    allWrapMap[wrapId] = obj;\n  }\n  return obj;\n};\nvar EventWrap = /*#__PURE__*/function () {\n  function EventWrap(_id, el) {\n    var _this = this;\n    _classCallCheck(this, EventWrap);\n    _defineProperty(this, \"optionMap\", {});\n    _defineProperty(this, \"typeMap\", {});\n    _defineProperty(this, \"addEventListener\", function (type, func) {\n      var thisOptId = ++count.opt;\n      var optionMap = _this.optionMap;\n      for (var _len = arguments.length, options = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        options[_key - 2] = arguments[_key];\n      }\n      optionMap[thisOptId] = [type, func].concat(options);\n      if (!_this.typeMap[type]) {\n        _this.typeMap[type] = [];\n      }\n      _this.typeMap[type].push(thisOptId);\n      callfunc(_this.el.addEventListener, optionMap[thisOptId], _this.el);\n      return thisOptId;\n    });\n    _defineProperty(this, \"removeEventListener\", function (typeOrId, func) {\n      var optionMap = _this.optionMap;\n      var thisOptions;\n      var id;\n      if (!isNaN(typeOrId) && optionMap[typeOrId]) {\n        id = typeOrId;\n        thisOptions = optionMap[id];\n      } else {\n        for (var _len2 = arguments.length, options = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          options[_key2 - 2] = arguments[_key2];\n        }\n        thisOptions = [typeOrId, func].concat(options);\n      }\n      callfunc(_this.el.removeEventListener, thisOptions, _this.el);\n      if (id) {\n        var type = thisOptions[0];\n        var thisTypeMap = _this.typeMap[type] || [];\n        _this.typeMap[type] = thisTypeMap.filter(function (item) {\n          return item != id;\n        });\n        delete optionMap[id];\n      }\n    });\n    this.id = _id;\n    this.el = el;\n  }\n  _createClass(EventWrap, [{\n    key: \"cleanAll\",\n    value: function cleanAll(type) {\n      var _this2 = this;\n      var optionMap = this.optionMap;\n      if (null != type) {\n        if (this.typeMap[type]) {\n          this.typeMap[type].forEach(function (key) {\n            _this2.removeEventListener(key);\n          });\n        }\n      } else {\n        KEYS(optionMap).forEach(function (key) {\n          _this2.removeEventListener(key);\n        });\n      }\n    }\n  }]);\n  return EventWrap;\n}();\nvar register = function register(el) {\n  return initEventWrap(el);\n};\nvar cleanAllRegister = function cleanAllRegister(type) {\n  KEYS(allWrapMap).forEach(function (key) {\n    allWrapMap[key].cleanAll(type);\n  });\n};\nexport { register, cleanAllRegister };","map":{"version":3,"names":["_classCallCheck","_createClass","_defineProperty","KEYS","callfunc","count","el","opt","allWrapMap","wrapKey","initEventWrap","wrapId","getAttribute","setAttribute","obj","EventWrap","_id","_this","type","func","thisOptId","optionMap","_len","arguments","length","options","Array","_key","concat","typeMap","push","addEventListener","typeOrId","thisOptions","id","isNaN","_len2","_key2","removeEventListener","thisTypeMap","filter","item","key","value","cleanAll","_this2","forEach","register","cleanAllRegister"],"sources":["C:/Users/roman/OneDrive/Рабочий стол/SF_Scan/node_modules/call-func/build/es/src/register.mjs"],"sourcesContent":["import _classCallCheck from \"reshow-runtime/es/helpers/classCallCheck\";\nimport _createClass from \"reshow-runtime/es/helpers/createClass\";\nimport _defineProperty from \"reshow-runtime/es/helpers/defineProperty\";\nimport { KEYS } from \"reshow-constant\";\nimport callfunc from \"./callfunc.mjs\";\nvar count = {\n  el: 0,\n  opt: 0\n};\nvar allWrapMap = {};\nvar wrapKey = \"data-event-wrap-id\";\nvar initEventWrap = function initEventWrap(el) {\n  var wrapId = el.getAttribute ? el.getAttribute(wrapKey) : el[wrapKey];\n  if (!wrapId) {\n    wrapId = ++count.el;\n    if (el.setAttribute) {\n      el.setAttribute(wrapKey, wrapId);\n    } else {\n      el[wrapKey] = wrapId;\n    }\n  }\n  var obj = allWrapMap[wrapId];\n  if (!obj) {\n    obj = new EventWrap(wrapId, el);\n    allWrapMap[wrapId] = obj;\n  }\n  return obj;\n};\nvar EventWrap = /*#__PURE__*/function () {\n  function EventWrap(_id, el) {\n    var _this = this;\n    _classCallCheck(this, EventWrap);\n    _defineProperty(this, \"optionMap\", {});\n    _defineProperty(this, \"typeMap\", {});\n    _defineProperty(this, \"addEventListener\", function (type, func) {\n      var thisOptId = ++count.opt;\n      var optionMap = _this.optionMap;\n      for (var _len = arguments.length, options = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        options[_key - 2] = arguments[_key];\n      }\n      optionMap[thisOptId] = [type, func].concat(options);\n      if (!_this.typeMap[type]) {\n        _this.typeMap[type] = [];\n      }\n      _this.typeMap[type].push(thisOptId);\n      callfunc(_this.el.addEventListener, optionMap[thisOptId], _this.el);\n      return thisOptId;\n    });\n    _defineProperty(this, \"removeEventListener\", function (typeOrId, func) {\n      var optionMap = _this.optionMap;\n      var thisOptions;\n      var id;\n      if (!isNaN(typeOrId) && optionMap[typeOrId]) {\n        id = typeOrId;\n        thisOptions = optionMap[id];\n      } else {\n        for (var _len2 = arguments.length, options = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          options[_key2 - 2] = arguments[_key2];\n        }\n        thisOptions = [typeOrId, func].concat(options);\n      }\n      callfunc(_this.el.removeEventListener, thisOptions, _this.el);\n      if (id) {\n        var type = thisOptions[0];\n        var thisTypeMap = _this.typeMap[type] || [];\n        _this.typeMap[type] = thisTypeMap.filter(function (item) {\n          return item != id;\n        });\n        delete optionMap[id];\n      }\n    });\n    this.id = _id;\n    this.el = el;\n  }\n  _createClass(EventWrap, [{\n    key: \"cleanAll\",\n    value: function cleanAll(type) {\n      var _this2 = this;\n      var optionMap = this.optionMap;\n      if (null != type) {\n        if (this.typeMap[type]) {\n          this.typeMap[type].forEach(function (key) {\n            _this2.removeEventListener(key);\n          });\n        }\n      } else {\n        KEYS(optionMap).forEach(function (key) {\n          _this2.removeEventListener(key);\n        });\n      }\n    }\n  }]);\n  return EventWrap;\n}();\nvar register = function register(el) {\n  return initEventWrap(el);\n};\nvar cleanAllRegister = function cleanAllRegister(type) {\n  KEYS(allWrapMap).forEach(function (key) {\n    allWrapMap[key].cleanAll(type);\n  });\n};\nexport { register, cleanAllRegister };"],"mappings":"AAAA,OAAOA,eAAe,MAAM,0CAA0C;AACtE,OAAOC,YAAY,MAAM,uCAAuC;AAChE,OAAOC,eAAe,MAAM,0CAA0C;AACtE,SAASC,IAAI,QAAQ,iBAAiB;AACtC,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,IAAIC,KAAK,GAAG;EACVC,EAAE,EAAE,CAAC;EACLC,GAAG,EAAE;AACP,CAAC;AACD,IAAIC,UAAU,GAAG,CAAC,CAAC;AACnB,IAAIC,OAAO,GAAG,oBAAoB;AAClC,IAAIC,aAAa,GAAG,SAASA,aAAaA,CAACJ,EAAE,EAAE;EAC7C,IAAIK,MAAM,GAAGL,EAAE,CAACM,YAAY,GAAGN,EAAE,CAACM,YAAY,CAACH,OAAO,CAAC,GAAGH,EAAE,CAACG,OAAO,CAAC;EACrE,IAAI,CAACE,MAAM,EAAE;IACXA,MAAM,GAAG,EAAEN,KAAK,CAACC,EAAE;IACnB,IAAIA,EAAE,CAACO,YAAY,EAAE;MACnBP,EAAE,CAACO,YAAY,CAACJ,OAAO,EAAEE,MAAM,CAAC;IAClC,CAAC,MAAM;MACLL,EAAE,CAACG,OAAO,CAAC,GAAGE,MAAM;IACtB;EACF;EACA,IAAIG,GAAG,GAAGN,UAAU,CAACG,MAAM,CAAC;EAC5B,IAAI,CAACG,GAAG,EAAE;IACRA,GAAG,GAAG,IAAIC,SAAS,CAACJ,MAAM,EAAEL,EAAE,CAAC;IAC/BE,UAAU,CAACG,MAAM,CAAC,GAAGG,GAAG;EAC1B;EACA,OAAOA,GAAG;AACZ,CAAC;AACD,IAAIC,SAAS,GAAG,aAAa,YAAY;EACvC,SAASA,SAASA,CAACC,GAAG,EAAEV,EAAE,EAAE;IAC1B,IAAIW,KAAK,GAAG,IAAI;IAChBjB,eAAe,CAAC,IAAI,EAAEe,SAAS,CAAC;IAChCb,eAAe,CAAC,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC;IACtCA,eAAe,CAAC,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;IACpCA,eAAe,CAAC,IAAI,EAAE,kBAAkB,EAAE,UAAUgB,IAAI,EAAEC,IAAI,EAAE;MAC9D,IAAIC,SAAS,GAAG,EAAEf,KAAK,CAACE,GAAG;MAC3B,IAAIc,SAAS,GAAGJ,KAAK,CAACI,SAAS;MAC/B,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,OAAO,GAAG,IAAIC,KAAK,CAACJ,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEK,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGL,IAAI,EAAEK,IAAI,EAAE,EAAE;QAC7GF,OAAO,CAACE,IAAI,GAAG,CAAC,CAAC,GAAGJ,SAAS,CAACI,IAAI,CAAC;MACrC;MACAN,SAAS,CAACD,SAAS,CAAC,GAAG,CAACF,IAAI,EAAEC,IAAI,CAAC,CAACS,MAAM,CAACH,OAAO,CAAC;MACnD,IAAI,CAACR,KAAK,CAACY,OAAO,CAACX,IAAI,CAAC,EAAE;QACxBD,KAAK,CAACY,OAAO,CAACX,IAAI,CAAC,GAAG,EAAE;MAC1B;MACAD,KAAK,CAACY,OAAO,CAACX,IAAI,CAAC,CAACY,IAAI,CAACV,SAAS,CAAC;MACnChB,QAAQ,CAACa,KAAK,CAACX,EAAE,CAACyB,gBAAgB,EAAEV,SAAS,CAACD,SAAS,CAAC,EAAEH,KAAK,CAACX,EAAE,CAAC;MACnE,OAAOc,SAAS;IAClB,CAAC,CAAC;IACFlB,eAAe,CAAC,IAAI,EAAE,qBAAqB,EAAE,UAAU8B,QAAQ,EAAEb,IAAI,EAAE;MACrE,IAAIE,SAAS,GAAGJ,KAAK,CAACI,SAAS;MAC/B,IAAIY,WAAW;MACf,IAAIC,EAAE;MACN,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC,IAAIX,SAAS,CAACW,QAAQ,CAAC,EAAE;QAC3CE,EAAE,GAAGF,QAAQ;QACbC,WAAW,GAAGZ,SAAS,CAACa,EAAE,CAAC;MAC7B,CAAC,MAAM;QACL,KAAK,IAAIE,KAAK,GAAGb,SAAS,CAACC,MAAM,EAAEC,OAAO,GAAG,IAAIC,KAAK,CAACU,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGD,KAAK,EAAEC,KAAK,EAAE,EAAE;UACpHZ,OAAO,CAACY,KAAK,GAAG,CAAC,CAAC,GAAGd,SAAS,CAACc,KAAK,CAAC;QACvC;QACAJ,WAAW,GAAG,CAACD,QAAQ,EAAEb,IAAI,CAAC,CAACS,MAAM,CAACH,OAAO,CAAC;MAChD;MACArB,QAAQ,CAACa,KAAK,CAACX,EAAE,CAACgC,mBAAmB,EAAEL,WAAW,EAAEhB,KAAK,CAACX,EAAE,CAAC;MAC7D,IAAI4B,EAAE,EAAE;QACN,IAAIhB,IAAI,GAAGe,WAAW,CAAC,CAAC,CAAC;QACzB,IAAIM,WAAW,GAAGtB,KAAK,CAACY,OAAO,CAACX,IAAI,CAAC,IAAI,EAAE;QAC3CD,KAAK,CAACY,OAAO,CAACX,IAAI,CAAC,GAAGqB,WAAW,CAACC,MAAM,CAAC,UAAUC,IAAI,EAAE;UACvD,OAAOA,IAAI,IAAIP,EAAE;QACnB,CAAC,CAAC;QACF,OAAOb,SAAS,CAACa,EAAE,CAAC;MACtB;IACF,CAAC,CAAC;IACF,IAAI,CAACA,EAAE,GAAGlB,GAAG;IACb,IAAI,CAACV,EAAE,GAAGA,EAAE;EACd;EACAL,YAAY,CAACc,SAAS,EAAE,CAAC;IACvB2B,GAAG,EAAE,UAAU;IACfC,KAAK,EAAE,SAASC,QAAQA,CAAC1B,IAAI,EAAE;MAC7B,IAAI2B,MAAM,GAAG,IAAI;MACjB,IAAIxB,SAAS,GAAG,IAAI,CAACA,SAAS;MAC9B,IAAI,IAAI,IAAIH,IAAI,EAAE;QAChB,IAAI,IAAI,CAACW,OAAO,CAACX,IAAI,CAAC,EAAE;UACtB,IAAI,CAACW,OAAO,CAACX,IAAI,CAAC,CAAC4B,OAAO,CAAC,UAAUJ,GAAG,EAAE;YACxCG,MAAM,CAACP,mBAAmB,CAACI,GAAG,CAAC;UACjC,CAAC,CAAC;QACJ;MACF,CAAC,MAAM;QACLvC,IAAI,CAACkB,SAAS,CAAC,CAACyB,OAAO,CAAC,UAAUJ,GAAG,EAAE;UACrCG,MAAM,CAACP,mBAAmB,CAACI,GAAG,CAAC;QACjC,CAAC,CAAC;MACJ;IACF;EACF,CAAC,CAAC,CAAC;EACH,OAAO3B,SAAS;AAClB,CAAC,CAAC,CAAC;AACH,IAAIgC,QAAQ,GAAG,SAASA,QAAQA,CAACzC,EAAE,EAAE;EACnC,OAAOI,aAAa,CAACJ,EAAE,CAAC;AAC1B,CAAC;AACD,IAAI0C,gBAAgB,GAAG,SAASA,gBAAgBA,CAAC9B,IAAI,EAAE;EACrDf,IAAI,CAACK,UAAU,CAAC,CAACsC,OAAO,CAAC,UAAUJ,GAAG,EAAE;IACtClC,UAAU,CAACkC,GAAG,CAAC,CAACE,QAAQ,CAAC1B,IAAI,CAAC;EAChC,CAAC,CAAC;AACJ,CAAC;AACD,SAAS6B,QAAQ,EAAEC,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}