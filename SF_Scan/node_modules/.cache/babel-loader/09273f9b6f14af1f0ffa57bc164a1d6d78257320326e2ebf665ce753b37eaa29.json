{"ast":null,"code":"import { win } from \"win-doc\";\nimport callfunc from \"call-func\";\nimport { htmlDecode } from \"html-entity-js\";\nvar allAttr = JSON.parse(\"[\\n\\\"accept\\\", \\\"accept-charset\\\", \\\"accesskey\\\", \\\"action\\\", \\\"allowfullscreen\\\", \\\"allowtransparency\\\", \\\"align\\\", \\\"alt\\\", \\\"async\\\", \\\"autocomplete\\\", \\\"autofocus\\\", \\\"autoplay\\\", \\\"autocorrect\\\", \\\"aria-*\\\", \\n\\\"border\\\",\\n\\\"capture\\\", \\\"cellpadding\\\",  \\\"cellspacing\\\", \\\"charset\\\", \\\"challenge\\\", \\\"checked\\\", \\\"class\\\", \\\"cols\\\", \\\"colspan\\\", \\\"content\\\", \\\"contenteditable\\\", \\\"contextmenu\\\", \\\"controls\\\", \\\"coords\\\", \\\"crossorigin\\\",\\n\\\"data-*\\\", \\\"datetime\\\", \\\"defer\\\", \\\"dir\\\", \\\"disabled\\\", \\\"download\\\", \\\"draggable\\\",\\n\\\"enctype\\\",\\n\\\"for\\\", \\\"form\\\", \\\"formaction\\\", \\\"formenctype\\\", \\\"formmethod\\\", \\\"formnovalidate\\\", \\\"formtarget\\\", \\\"frameborder\\\",\\n\\\"headers\\\", \\\"height\\\", \\\"hidden\\\", \\\"high\\\", \\\"href\\\", \\\"hreflang\\\", \\\"http-equiv\\\",\\n\\\"item*\\\", \\\"icon\\\", \\\"id\\\", \\\"inputmode\\\",\\n\\\"js*\\\",\\n\\\"keyparams\\\", \\\"keytype\\\",\\n\\\"label\\\", \\\"lang\\\", \\\"list\\\", \\\"loop\\\", \\\"low\\\",\\n\\\"manifest\\\", \\\"marginheight\\\", \\\"marginwidth\\\", \\\"max\\\", \\\"maxlength\\\", \\\"media\\\", \\\"method\\\", \\\"min\\\", \\\"minlength\\\", \\\"multiple\\\", \\\"muted\\\",\\n\\\"name\\\", \\\"novalidate\\\", \\\"nonce\\\",\\n\\\"open\\\", \\\"optimum\\\",\\n\\\"pattern\\\", \\\"placeholder\\\", \\\"ping\\\", \\\"poster\\\", \\\"preload\\\",\\n\\\"radiogroup\\\", \\\"readonly\\\", \\\"rel\\\", \\\"required\\\", \\\"role\\\", \\\"rows\\\", \\\"rowspan\\\",\\n\\\"sandbox\\\", \\\"scope\\\", \\\"scoped\\\", \\\"scrolling\\\", \\\"seamless\\\", \\\"selected\\\", \\\"shape\\\", \\\"size\\\", \\\"sizes\\\", \\\"span\\\", \\\"spellcheck\\\", \\\"src\\\", \\\"srcdoc\\\", \\\"srcset\\\", \\\"start\\\", \\\"step\\\", \\\"style\\\", \\\"summary\\\",\\n\\\"tabIndex\\\", \\\"target\\\", \\\"title\\\", \\\"type\\\",\\n\\\"usemap\\\",\\n\\\"value\\\",\\n\\\"width\\\", \\\"wmode\\\", \\\"wrap\\\",\\n\\n\\\"clip-path\\\", \\\"cx\\\", \\\"cy\\\",\\n\\\"d\\\", \\\"dx\\\", \\\"dy\\\",\\n\\\"fill\\\", \\\"fill-opacity\\\", \\\"focusable\\\", \\\"font-family\\\", \\\"font-size\\\", \\\"fx\\\", \\\"fy\\\",\\n\\\"gradientTransform\\\", \\\"gradientUnits\\\",\\n\\\"marker-end\\\", \\\"marker-mid\\\", \\\"marker-start\\\",\\n\\\"offset\\\", \\\"opacity\\\",\\n\\\"patternContentUnits\\\", \\\"patternUnits\\\", \\\"points\\\", \\\"preserveAspectRatio\\\",\\n\\\"r\\\", \\\"rx\\\", \\\"ry\\\",\\n\\\"spreadMethod\\\",\\n\\\"stop-color\\\", \\\"stop-opacity\\\",\\n\\\"stroke\\\", \\\"stroke-dasharray\\\", \\\"stroke-linecap\\\", \\\"stroke-opacity\\\", \\\"stroke-width\\\",\\n\\\"text-anchor\\\", \\\"transform\\\",\\n\\\"version\\\", \\\"viewBox\\\",\\n\\\"x1\\\", \\\"x2\\\", \\\"x\\\",\\n\\\"xlink:actuate\\\", \\\"xlink:arcrole\\\", \\\"xlink:href\\\", \\\"xlink:role\\\", \\\"xlink:show\\\", \\\"xlink:title\\\", \\\"xlink:type\\\",\\n\\\"xmlns\\\", \\\"xmlns:v\\\", \\\"xmlns:o\\\", \\\"xml:base\\\", \\\"xml:lang\\\", \\\"xml:space\\\",\\n\\\"y1\\\", \\\"y2\\\", \\\"y\\\"\\n]\");\nvar docTypeReg = /^<!DOCTYPE .*?>/i;\nvar fixHtml = function fixHtml(s, cb, componentOnly) {\n  var d = new (win().DOMParser)();\n  var oXml = new (win().XMLSerializer)();\n  var domObj = d.parseFromString(s || \"\", \"text/html\");\n  var xmlStr = componentOnly ? domObj.body.innerHTML : oXml.serializeToString(domObj);\n  var docType = (xmlStr.match(docTypeReg) || [])[0] || \"\";\n  var callcb = function callcb(s) {\n    return docType + callfunc(cb, [s, {\n      allowedTags: false,\n      allowedAttributes: {\n        \"*\": allAttr\n      }\n    }]);\n  };\n  return htmlDecode(cb ? callcb(xmlStr) : xmlStr);\n};\nexport default fixHtml;","map":{"version":3,"names":["win","callfunc","htmlDecode","allAttr","JSON","parse","docTypeReg","fixHtml","s","cb","componentOnly","d","DOMParser","oXml","XMLSerializer","domObj","parseFromString","xmlStr","body","innerHTML","serializeToString","docType","match","callcb","allowedTags","allowedAttributes"],"sources":["C:/Users/roman/OneDrive/Рабочий стол/SF_Scan/node_modules/fix-html/build/es/src/index.js"],"sourcesContent":["import { win } from \"win-doc\";\nimport callfunc from \"call-func\";\nimport { htmlDecode } from \"html-entity-js\";\nvar allAttr = JSON.parse(\"[\\n\\\"accept\\\", \\\"accept-charset\\\", \\\"accesskey\\\", \\\"action\\\", \\\"allowfullscreen\\\", \\\"allowtransparency\\\", \\\"align\\\", \\\"alt\\\", \\\"async\\\", \\\"autocomplete\\\", \\\"autofocus\\\", \\\"autoplay\\\", \\\"autocorrect\\\", \\\"aria-*\\\", \\n\\\"border\\\",\\n\\\"capture\\\", \\\"cellpadding\\\",  \\\"cellspacing\\\", \\\"charset\\\", \\\"challenge\\\", \\\"checked\\\", \\\"class\\\", \\\"cols\\\", \\\"colspan\\\", \\\"content\\\", \\\"contenteditable\\\", \\\"contextmenu\\\", \\\"controls\\\", \\\"coords\\\", \\\"crossorigin\\\",\\n\\\"data-*\\\", \\\"datetime\\\", \\\"defer\\\", \\\"dir\\\", \\\"disabled\\\", \\\"download\\\", \\\"draggable\\\",\\n\\\"enctype\\\",\\n\\\"for\\\", \\\"form\\\", \\\"formaction\\\", \\\"formenctype\\\", \\\"formmethod\\\", \\\"formnovalidate\\\", \\\"formtarget\\\", \\\"frameborder\\\",\\n\\\"headers\\\", \\\"height\\\", \\\"hidden\\\", \\\"high\\\", \\\"href\\\", \\\"hreflang\\\", \\\"http-equiv\\\",\\n\\\"item*\\\", \\\"icon\\\", \\\"id\\\", \\\"inputmode\\\",\\n\\\"js*\\\",\\n\\\"keyparams\\\", \\\"keytype\\\",\\n\\\"label\\\", \\\"lang\\\", \\\"list\\\", \\\"loop\\\", \\\"low\\\",\\n\\\"manifest\\\", \\\"marginheight\\\", \\\"marginwidth\\\", \\\"max\\\", \\\"maxlength\\\", \\\"media\\\", \\\"method\\\", \\\"min\\\", \\\"minlength\\\", \\\"multiple\\\", \\\"muted\\\",\\n\\\"name\\\", \\\"novalidate\\\", \\\"nonce\\\",\\n\\\"open\\\", \\\"optimum\\\",\\n\\\"pattern\\\", \\\"placeholder\\\", \\\"ping\\\", \\\"poster\\\", \\\"preload\\\",\\n\\\"radiogroup\\\", \\\"readonly\\\", \\\"rel\\\", \\\"required\\\", \\\"role\\\", \\\"rows\\\", \\\"rowspan\\\",\\n\\\"sandbox\\\", \\\"scope\\\", \\\"scoped\\\", \\\"scrolling\\\", \\\"seamless\\\", \\\"selected\\\", \\\"shape\\\", \\\"size\\\", \\\"sizes\\\", \\\"span\\\", \\\"spellcheck\\\", \\\"src\\\", \\\"srcdoc\\\", \\\"srcset\\\", \\\"start\\\", \\\"step\\\", \\\"style\\\", \\\"summary\\\",\\n\\\"tabIndex\\\", \\\"target\\\", \\\"title\\\", \\\"type\\\",\\n\\\"usemap\\\",\\n\\\"value\\\",\\n\\\"width\\\", \\\"wmode\\\", \\\"wrap\\\",\\n\\n\\\"clip-path\\\", \\\"cx\\\", \\\"cy\\\",\\n\\\"d\\\", \\\"dx\\\", \\\"dy\\\",\\n\\\"fill\\\", \\\"fill-opacity\\\", \\\"focusable\\\", \\\"font-family\\\", \\\"font-size\\\", \\\"fx\\\", \\\"fy\\\",\\n\\\"gradientTransform\\\", \\\"gradientUnits\\\",\\n\\\"marker-end\\\", \\\"marker-mid\\\", \\\"marker-start\\\",\\n\\\"offset\\\", \\\"opacity\\\",\\n\\\"patternContentUnits\\\", \\\"patternUnits\\\", \\\"points\\\", \\\"preserveAspectRatio\\\",\\n\\\"r\\\", \\\"rx\\\", \\\"ry\\\",\\n\\\"spreadMethod\\\",\\n\\\"stop-color\\\", \\\"stop-opacity\\\",\\n\\\"stroke\\\", \\\"stroke-dasharray\\\", \\\"stroke-linecap\\\", \\\"stroke-opacity\\\", \\\"stroke-width\\\",\\n\\\"text-anchor\\\", \\\"transform\\\",\\n\\\"version\\\", \\\"viewBox\\\",\\n\\\"x1\\\", \\\"x2\\\", \\\"x\\\",\\n\\\"xlink:actuate\\\", \\\"xlink:arcrole\\\", \\\"xlink:href\\\", \\\"xlink:role\\\", \\\"xlink:show\\\", \\\"xlink:title\\\", \\\"xlink:type\\\",\\n\\\"xmlns\\\", \\\"xmlns:v\\\", \\\"xmlns:o\\\", \\\"xml:base\\\", \\\"xml:lang\\\", \\\"xml:space\\\",\\n\\\"y1\\\", \\\"y2\\\", \\\"y\\\"\\n]\");\nvar docTypeReg = /^<!DOCTYPE .*?>/i;\n\nvar fixHtml = function fixHtml(s, cb, componentOnly) {\n  var d = new (win().DOMParser)();\n  var oXml = new (win().XMLSerializer)();\n  var domObj = d.parseFromString(s || \"\", \"text/html\");\n  var xmlStr = componentOnly ? domObj.body.innerHTML : oXml.serializeToString(domObj);\n  var docType = (xmlStr.match(docTypeReg) || [])[0] || \"\";\n\n  var callcb = function callcb(s) {\n    return docType + callfunc(cb, [s, {\n      allowedTags: false,\n      allowedAttributes: {\n        \"*\": allAttr\n      }\n    }]);\n  };\n\n  return htmlDecode(cb ? callcb(xmlStr) : xmlStr);\n};\n\nexport default fixHtml;"],"mappings":"AAAA,SAASA,GAAG,QAAQ,SAAS;AAC7B,OAAOC,QAAQ,MAAM,WAAW;AAChC,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,IAAIC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAAC,22EAA22E,CAAC;AACr4E,IAAIC,UAAU,GAAG,kBAAkB;AAEnC,IAAIC,OAAO,GAAG,SAASA,OAAOA,CAACC,CAAC,EAAEC,EAAE,EAAEC,aAAa,EAAE;EACnD,IAAIC,CAAC,GAAG,KAAKX,GAAG,CAAC,CAAC,CAACY,SAAS,EAAE,CAAC;EAC/B,IAAIC,IAAI,GAAG,KAAKb,GAAG,CAAC,CAAC,CAACc,aAAa,EAAE,CAAC;EACtC,IAAIC,MAAM,GAAGJ,CAAC,CAACK,eAAe,CAACR,CAAC,IAAI,EAAE,EAAE,WAAW,CAAC;EACpD,IAAIS,MAAM,GAAGP,aAAa,GAAGK,MAAM,CAACG,IAAI,CAACC,SAAS,GAAGN,IAAI,CAACO,iBAAiB,CAACL,MAAM,CAAC;EACnF,IAAIM,OAAO,GAAG,CAACJ,MAAM,CAACK,KAAK,CAAChB,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE;EAEvD,IAAIiB,MAAM,GAAG,SAASA,MAAMA,CAACf,CAAC,EAAE;IAC9B,OAAOa,OAAO,GAAGpB,QAAQ,CAACQ,EAAE,EAAE,CAACD,CAAC,EAAE;MAChCgB,WAAW,EAAE,KAAK;MAClBC,iBAAiB,EAAE;QACjB,GAAG,EAAEtB;MACP;IACF,CAAC,CAAC,CAAC;EACL,CAAC;EAED,OAAOD,UAAU,CAACO,EAAE,GAAGc,MAAM,CAACN,MAAM,CAAC,GAAGA,MAAM,CAAC;AACjD,CAAC;AAED,eAAeV,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}