{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\roman\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\SF_Scan\\\\src\\\\Components\\\\ResponsePage\\\\Documents\\\\Document\\\\Document.jsx\",\n  _s = $RefreshSig$();\nimport css from \"./Document.module.css\";\nimport { useEffect, useState } from \"react\";\nimport sax from \"sax\";\nimport fix from 'fix-html';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Document = ({\n  doc\n}) => {\n  _s();\n  const [img, setImg] = useState(null);\n  const [text, setText] = useState(null);\n  useEffect(() => {\n    let html = \"\";\n    const xmlParser = sax.parser(true);\n    xmlParser.ontext = function (t) {\n      html = html + t;\n    };\n    xmlParser.onend = function () {\n      const paragraphs = [\"\"];\n      let paragraph = 0;\n      let imgSrc = null;\n      const htmlParser = sax.parser(false);\n      htmlParser.ontext = function (t) {\n        paragraphs[paragraph] = paragraphs[paragraph] + t.replace(/<\\/?[^>]+(>|$)/g, \"\").replace(/[\\n\\r]/g, \"\");\n      };\n      htmlParser.onopentag = function (node) {\n        if (node.name == 'IMG') {\n          imgSrc = node.attributes.SRC;\n        } else {\n          paragraph++;\n          paragraphs[paragraph] = \"\";\n        }\n      };\n      htmlParser.onend = function () {\n        setImg(imgSrc);\n        setText(paragraphs);\n      };\n      htmlParser.write(fix(html)).close();\n    };\n    xmlParser.write(doc.content.markup).close();\n  }, [doc.content.markup]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: css.document,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.source,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: css.date,\n          children: new Date(doc.issueDate).toLocaleDateString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: doc.url,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: doc.source.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: css.head,\n        children: doc.title.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.type,\n        children: [doc.attributes.isTechNews ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u0422\\u0435\\u0445\\u043D\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 50\n        }, this) : \"\", doc.attributes.isAnnouncement ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u0410\\u043D\\u043E\\u043D\\u0441\\u044B \\u0438 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 54\n        }, this) : \"\", doc.attributes.isDigest ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u0421\\u0432\\u043E\\u0434\\u043A\\u0438 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 48\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.content,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: css.contentContainer,\n          children: [img ? /*#__PURE__*/_jsxDEV(\"img\", {\n            className: css.img,\n            src: img,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 32\n          }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: css.text,\n            children: text ? text.map((item, key) => {\n              return item.length ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 83\n              }, this) : \"\";\n            }) : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.foot,\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: css.readSource,\n          href: doc.url,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: \"\\u0427\\u0438\\u0442\\u0430\\u0442\\u044C \\u0432 \\u0438\\u0441\\u0442\\u043E\\u0447\\u043D\\u0438\\u043A\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: css.words,\n          children: [Number(doc.attributes.wordCount).toLocaleString(), \" \\u0441\\u043B\\u043E\\u0432\\u0430\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(Document, \"/RdkSdhVxwba0Yxxn+BTAauWgAM=\");\n_c = Document;\nexport default Document;\nvar _c;\n$RefreshReg$(_c, \"Document\");","map":{"version":3,"names":["css","useEffect","useState","sax","fix","jsxDEV","_jsxDEV","Document","doc","_s","img","setImg","text","setText","html","xmlParser","parser","ontext","t","onend","paragraphs","paragraph","imgSrc","htmlParser","replace","onopentag","node","name","attributes","SRC","write","close","content","markup","className","document","children","container","source","date","Date","issueDate","toLocaleDateString","fileName","_jsxFileName","lineNumber","columnNumber","href","url","target","rel","head","title","type","isTechNews","isAnnouncement","isDigest","contentContainer","src","alt","map","item","key","length","foot","readSource","words","Number","wordCount","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/roman/OneDrive/Рабочий стол/SF_Scan/src/Components/ResponsePage/Documents/Document/Document.jsx"],"sourcesContent":["import css from \"./Document.module.css\"\nimport {useEffect, useState} from \"react\";\nimport sax from \"sax\"\nimport fix from 'fix-html';\n\nconst Document = ({doc}) => {\n    const [img, setImg] = useState(null)\n    const [text, setText] = useState(null)\n\n    useEffect(() => {\n        let html = \"\";\n        const xmlParser = sax.parser(true);\n        xmlParser.ontext = function (t) {\n            html = html + t\n        }\n        xmlParser.onend = function () {\n            const paragraphs = [\"\"]\n            let paragraph = 0\n            let imgSrc = null\n            const htmlParser = sax.parser(false);\n            htmlParser.ontext = function (t) {\n                paragraphs[paragraph] = paragraphs[paragraph] + t.replace(/<\\/?[^>]+(>|$)/g, \"\").replace(/[\\n\\r]/g, \"\")\n            }\n            htmlParser.onopentag = function (node) {\n                if (node.name == 'IMG') {\n                    imgSrc = node.attributes.SRC\n                }\n                else {\n                    paragraph++\n                    paragraphs[paragraph] = \"\"\n                }\n            };\n            htmlParser.onend = function () {\n                setImg(imgSrc)\n                setText(paragraphs)\n            }\n            htmlParser.write(fix(html)).close()\n        };\n        xmlParser.write(doc.content.markup).close()\n    }, [doc.content.markup])\n\n    return (\n        <section className={css.document}>\n            <div className={css.container}>\n                <div className={css.source}>\n                <span className={css.date}>\n                    {new Date(doc.issueDate).toLocaleDateString()}\n                </span>\n                    <a href={doc.url} target=\"_blank\" rel=\"noreferrer\">\n                        {doc.source.name}\n                    </a>\n                </div>\n                <h3 className={css.head}>\n                    {doc.title.text}\n                </h3>\n                <div className={css.type}>\n                    {doc.attributes.isTechNews ? <div>Технические новости</div> : \"\"}\n                    {doc.attributes.isAnnouncement ? <div>Анонсы и события</div> : \"\"}\n                    {doc.attributes.isDigest ? <div>Сводки новостей</div> : \"\"}\n                </div>\n                <div className={css.content}>\n                    <div className={css.contentContainer}>\n                        {img ? <img className={css.img} src={img} alt=\"\" /> : \"\"}\n                        <div className={css.text}>\n                            {text ? text.map((item, key) => {return item.length ? <p key={key}>{item}</p> : \"\"}) : \"\"}\n                        </div>\n                    </div>\n                </div>\n                <div className={css.foot}>\n                    <a className={css.readSource} href={doc.url} target=\"_blank\" rel=\"noreferrer\">\n                        Читать в источнике\n                    </a>\n                    <div className={css.words}>\n                        {Number(doc.attributes.wordCount).toLocaleString()} слова\n                    </div>\n\n                </div>\n            </div>\n        </section>\n    )\n\n}\n\nexport default Document"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}