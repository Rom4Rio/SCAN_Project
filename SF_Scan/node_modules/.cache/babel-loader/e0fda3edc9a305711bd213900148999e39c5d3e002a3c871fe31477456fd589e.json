{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\roman\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\SF_Scan\\\\src\\\\Components\\\\LoginPage\\\\Signin\\\\Signin.jsx\",\n  _s = $RefreshSig$();\nimport { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch } from 'react-redux';\nimport axios from \"axios\";\nimport { setToken } from '../../../redux/token';\nimport css from \"./Signin.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Signin = () => {\n  _s();\n  const dispatch = useDispatch();\n  const [state, setState] = useState({\n    disableButton: true,\n    loginError: false,\n    passError: false\n  });\n  const login = useRef(null);\n  const pass = useRef(null);\n  const onChange = () => {\n    const loginValue = login.current.value;\n    const passValue = pass.current.value;\n    setState({\n      disableButton: loginValue === \"\" || state.loginError || passValue === \"\" || state.passError\n    });\n  };\n  const onChangeLogin = () => {\n    setState({\n      loginError: false\n    });\n    onChange();\n  };\n  const onChangePass = () => {\n    setState({\n      passError: false\n    });\n    onChange();\n  };\n  const onSubmit = event => {\n    event.preventDefault();\n    const phone = /^\\+\\d[ \\d]*\\d$/;\n    const loginValue = login.current.value;\n    let loginTest = true;\n    const passValue = pass.current.value;\n    if (loginValue.slice(0, 1) === \"+\") {\n      loginTest = phone.test(loginValue);\n      if (!loginTest) {\n        setState({\n          loginError: true,\n          disableButton: true\n        });\n      }\n    }\n    if (loginTest) {\n      axios.post('https://gateway.scan-interfax.ru/api/v1/account/login', {\n        login: loginValue,\n        password: passValue\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(response => {\n        dispatch(setToken(response.data));\n      }).catch(error => {\n        console.log(error);\n        setState({\n          passError: true,\n          disableButton: true\n        });\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: css.form,\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: css.loginLabel,\n        htmlFor: \"signin-login\",\n        children: \"\\u041B\\u043E\\u0433\\u0438\\u043D \\u0438\\u043B\\u0438 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: onChangeLogin,\n        ref: login,\n        className: state.loginError ? css.inputError : \"\",\n        type: \"text\",\n        id: \"signin-login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.error,\n        children: state.loginError ? \"Введите корректные данные\" : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"\\xA0\"\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: css.passLabel,\n        htmlFor: \"signin-passwd\",\n        children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: onChangePass,\n        ref: pass,\n        className: state.passError ? css.inputError : \"\",\n        type: \"password\",\n        id: \"signin-passwd\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.error,\n        children: state.passError ? \"Неправильный пароль\" : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"\\xA0\"\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: state.disableButton,\n        className: css.submit,\n        type: \"submit\",\n        children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.reset,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/reset\",\n          children: \"\\u0412\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css.enter,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.enterText,\n        children: \"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0447\\u0435\\u0440\\u0435\\u0437:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: css.enterOAuth,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: css.enterGoogle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: css.enterFacebook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: css.enterYandex\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Signin, \"WFFZ0OKpQlK3Xw65Q8HonoExWzI=\", false, function () {\n  return [useDispatch];\n});\n_c = Signin;\nexport default Signin;\nvar _c;\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["useRef","useState","Link","useDispatch","axios","setToken","css","jsxDEV","_jsxDEV","Fragment","_Fragment","Signin","_s","dispatch","state","setState","disableButton","loginError","passError","login","pass","onChange","loginValue","current","value","passValue","onChangeLogin","onChangePass","onSubmit","event","preventDefault","phone","loginTest","slice","test","post","password","headers","then","response","data","catch","error","console","log","children","className","form","loginLabel","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","ref","inputError","type","id","passLabel","disabled","submit","reset","href","enter","enterText","enterOAuth","enterGoogle","enterFacebook","enterYandex","_c","$RefreshReg$"],"sources":["C:/Users/roman/OneDrive/Рабочий стол/SF_Scan/src/Components/LoginPage/Signin/Signin.jsx"],"sourcesContent":["import {useRef, useState} from \"react\";\nimport {Link} from \"react-router-dom\"\nimport { useDispatch } from 'react-redux'\nimport axios from \"axios\";\n\nimport { setToken } from '../../../redux/token'\n\nimport css from \"./Signin.module.css\"\n\nconst Signin = () => {\n    const dispatch = useDispatch()\n\n    const [state, setState] = useState({\n        disableButton: true,\n        loginError: false,\n        passError: false,\n    })\n\n    const login = useRef(null);\n    const pass = useRef(null);\n\n    const onChange = () => {\n        const loginValue = login.current.value;\n        const passValue = pass.current.value;\n\n        setState({\n            disableButton: loginValue === \"\" || state.loginError || passValue === \"\" || state.passError\n        })\n    }\n\n    const onChangeLogin = () => {\n        setState({loginError: false})\n        onChange()\n    }\n\n    const onChangePass = () => {\n        setState({passError: false})\n        onChange()\n    }\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n\n        const phone = /^\\+\\d[ \\d]*\\d$/\n        const loginValue = login.current.value;\n        let loginTest = true;\n        const passValue = pass.current.value;\n\n        if (loginValue.slice(0, 1) === \"+\") {\n            loginTest = phone.test(loginValue)\n            if (!loginTest) {\n                setState({\n                    loginError: true,\n                    disableButton: true,\n                })\n            }\n        }\n\n        if (loginTest) {\n            axios.post(\n                'https://gateway.scan-interfax.ru/api/v1/account/login',\n                {\n                    login: loginValue,\n                    password : passValue,\n                },\n                {\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Accept': 'application/json',\n                    }\n                }\n            ).then((response) => {\n                dispatch(setToken(response.data))\n            }).catch((error) => {\n                console.log(error)\n                setState({\n                    passError: true,\n                    disableButton: true,\n                })\n            })\n        }\n    }\n\n    return (\n        <>\n            <form className={css.form} onSubmit={onSubmit}>\n                <label className={css.loginLabel} htmlFor=\"signin-login\">Логин или номер телефона:</label>\n                <input\n                    onChange={onChangeLogin}\n                    ref={login}\n                    className={state.loginError ? css.inputError : \"\"}\n                    type=\"text\"\n                    id=\"signin-login\"\n                />\n                <div className={css.error}>\n                    {state.loginError ? \"Введите корректные данные\" : <>&nbsp;</>}\n                </div>\n                <label className={css.passLabel} htmlFor=\"signin-passwd\">Пароль:</label>\n                <input\n                    onChange={onChangePass}\n                    ref={pass}\n                    className={state.passError ? css.inputError : \"\"}\n                    type=\"password\"\n                    id=\"signin-passwd\"\n                />\n                <div className={css.error}>\n                    {state.passError ? \"Неправильный пароль\" : <>&nbsp;</>}\n                </div>\n                <button disabled={state.disableButton} className={css.submit} type=\"submit\">Войти</button>\n                <div className={css.reset}>\n                    <Link href=\"/reset\">\n                        Восстановить пароль\n                    </Link>\n                </div>\n            </form>\n            <div className={css.enter}>\n                <div className={css.enterText}>\n                    Войти через:\n                </div>\n                <div className={css.enterOAuth}>\n                    <div className={css.enterGoogle}></div>\n                    <div className={css.enterFacebook}></div>\n                    <div className={css.enterYandex}></div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default Signin"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}